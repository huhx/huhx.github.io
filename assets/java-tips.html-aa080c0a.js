import{_ as l,r as i,o as u,c as d,e as p,w as s,b as a,d as o,a as n}from"./app-57542e83.js";const r="/assets/202308042241208141143-4ea1c43b.png",k={},v=o('<p>å¦‚ä½•ç¼–å†™æ›´å¥å£®æ›´å¥½çš„javaä»£ç ï¼Ÿè¿™é‡Œé¢æ•´ç†æ”¶é›†ä¸€äº›åœ¨javaå¼€å‘è¿‡ç¨‹ä¸­æˆ‘ä»¬éœ€è¦æ³¨æ„çš„ä¸€äº›ç‚¹æˆ–è€…è¯´æ˜¯æŠ€å·§ï¼Œä»è€Œæé«˜ä»£ç çš„è´¨é‡ä»¥åŠæˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡ã€‚</p><h2 id="springboot" tabindex="-1"><a class="header-anchor" href="#springboot" aria-hidden="true">#</a> Springboot</h2><h3 id="ignore-null-fields-with-jackson" tabindex="-1"><a class="header-anchor" href="#ignore-null-fields-with-jackson" aria-hidden="true">#</a> Ignore Null Fields with Jackson</h3><p>springbootä¸­é»˜è®¤åºåˆ—åŒ–Jsonçš„æ¡†æ¶å°±æ˜¯<code>jackson</code>äº†ï¼Œè¿™é‡Œé¢ä»‹ç»åœ¨springbooté¡¹ç›®ä¸­å¦‚ä½•å¿½ç•¥nullå­—æ®µ</p><ul><li>å…¨å±€</li></ul><p>springbooté…ç½®å’Œjavaä»£ç éƒ½å¯ä»¥å®ç°å…¨å±€å¿½ç•¥nullçš„åŠŸèƒ½</p>',6),m=n("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token key atrule"},"spring"),n("span",{class:"token punctuation"},":"),a(`
  `),n("span",{class:"token key atrule"},"jackson"),n("span",{class:"token punctuation"},":"),a(`
    `),n("span",{class:"token key atrule"},"default-property-inclusion"),n("span",{class:"token punctuation"},":"),a(` non_null
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),b=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"var"),a(" mapper "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token keyword"},"new"),a(),n("span",{class:"token class-name"},"ObjectMapper"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`

mapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setSerializationInclusion"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Include"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"NON_NULL"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),g=o(`<ul><li>ç±»çº§åˆ«</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@JsonInclude</span><span class="token punctuation">(</span><span class="token class-name">Include</span><span class="token punctuation">.</span><span class="token constant">NON_NULL</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å­—æ®µçº§åˆ«</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyPersonDto</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@JsonInclude</span><span class="token punctuation">(</span><span class="token class-name">Include</span><span class="token punctuation">.</span><span class="token constant">NON_NULL</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> address<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="java-recordç±»ä¸èƒ½ç”¨ä½œjpaå®ä½“" tabindex="-1"><a class="header-anchor" href="#java-recordç±»ä¸èƒ½ç”¨ä½œjpaå®ä½“" aria-hidden="true">#</a> Java recordç±»ä¸èƒ½ç”¨ä½œJPAå®ä½“</h3><p>A JPA entity class must:</p><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>ğŸ”˜ be non-final 
ğŸ”˜ have a no-arg constructor 
ğŸ”˜ have non-final fields
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A Record:</p><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>âŒ is final 
âŒ has one constructor with all fields
âŒ has final fields
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="docker" tabindex="-1"><a class="header-anchor" href="#docker" aria-hidden="true">#</a> Docker</h2><h3 id="dockerè¿œç¨‹debug" tabindex="-1"><a class="header-anchor" href="#dockerè¿œç¨‹debug" aria-hidden="true">#</a> dockerè¿œç¨‹Debug</h3><ul><li>ä½¿ç”¨dockeréƒ¨ç½²é¡¹ç›®</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 9094: åº”ç”¨ç«¯å£, 5005: è¿œç¨‹debugçš„ç«¯å£ï¼Œéœ€è¦è¿œç¨‹çš„æœåŠ¡å™¨é˜²ç«å¢™æ‰“å¼€æ­¤æ¥å£</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">9094</span>:9094 <span class="token parameter variable">-p</span> <span class="token number">5005</span>:5005 <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token string">&quot;JAVA_TOOL_OPTIONS=<span class="token entity" title="\\&quot;">\\&quot;</span>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005<span class="token entity" title="\\&quot;">\\&quot;</span>&quot;</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">--name</span> demo_app demo_app:0.0.1-SNAPSHOT
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ£€æŸ¥è¿œç¨‹æ¥å£æ˜¯å¦æ‰“å¼€</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">nc</span> <span class="token parameter variable">-vz</span> <span class="token number">47.111</span>.12.18 <span class="token number">5005</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¾“å‡ºçš„æ—¥å¿—ä¸­å¸¦æœ‰<code>Connection to .... successed</code>å°±ä»£è¡¨è¿œç¨‹çš„5005æ¥å£æ˜¯å¯ä»¥è¿é€šçš„ã€‚</p><ul><li>intelljé…ç½®<code>Remote Jvm Debug</code></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># import thing is the JVM arguments</span>
<span class="token parameter variable">-agentlib:jdwp</span><span class="token operator">=</span>transport<span class="token operator">=</span>dt_socket,server<span class="token operator">=</span>y,suspend<span class="token operator">=</span>n,address<span class="token operator">=</span>*:5005
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+r+'" alt="debugé…ç½®" tabindex="0" loading="lazy"><figcaption>debugé…ç½®</figcaption></figure><blockquote><p>æœ¬åœ°å’Œè¿œç¨‹çš„æºä»£ç è¦ä¿æŒä¸€è‡´ï¼Œè¦ä¸ç„¶æœ¬åœ°çš„debugä¼šä¸èƒ½å·¥ä½œã€‚</p></blockquote><ul><li>è¿è¡Œæµ‹è¯•</li></ul><p>æœ¬åœ°ä»£ç æ‰“ä¸Šæ–­ç‚¹ï¼Œåœ¨ideaä¸Šé¢ç‚¹å‡»<code>server debug</code>ä»¥<code>debug</code>æ¨¡å¼è¿è¡Œã€‚è®¿é—®è¿œç¨‹çš„apiï¼Œå°±ä¼šèµ°åˆ°æœ¬åœ°ç›¸åº”çš„æ–­ç‚¹ã€‚</p><h2 id="standard" tabindex="-1"><a class="header-anchor" href="#standard" aria-hidden="true">#</a> Standard</h2><h3 id="booleançš„çŸ­è·¯è¯„ä¼°" tabindex="-1"><a class="header-anchor" href="#booleançš„çŸ­è·¯è¯„ä¼°" aria-hidden="true">#</a> Booleançš„çŸ­è·¯è¯„ä¼°</h3><ul><li><p><code>&amp;&amp;</code>: If the left operand is false, the right one isnâ€™t called.</p></li><li><p><code>||</code>: If the left operand is true, the right one isnâ€™t called.</p></li></ul><p>åˆ©ç”¨è¿™ä¸ªç‰¹æ€§çš„è¯ï¼Œåœ¨ç¼–å†™ä»£ç å°±å¯ä»¥é€šè¿‡å˜æ¢è¡¨è¾¾å¼çš„ä½ç½®æˆ–è€…æå–æ–¹æ³•æ¥ä¼˜åŒ–æ€§èƒ½ï¼Œæ¯”å¦‚</p>',26),h=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"public"),a(),n("span",{class:"token keyword"},"boolean"),a(" shouldSkip "),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token keyword"},"var"),a(" hasOutput "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token class-name"},"CollectionUtils"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"isNotEmpty"),n("span",{class:"token punctuation"},"("),a("response"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getSpec"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getOutputs"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
    `),n("span",{class:"token keyword"},"var"),a(" hasSecret "),n("span",{class:"token operator"},"="),a(" provider"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"callRemoteApi"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"string"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`

    `),n("span",{class:"token keyword"},"return"),a(" hasSecret "),n("span",{class:"token operator"},"||"),a(" hasOutput"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),f=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"public"),a(),n("span",{class:"token keyword"},"boolean"),a(" shouldSkip "),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token keyword"},"var"),a(" hasOutput "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token class-name"},"CollectionUtils"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"isNotEmpty"),n("span",{class:"token punctuation"},"("),a("response"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getSpec"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getOutputs"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
    `),n("span",{class:"token keyword"},"return"),a(" hasOutput "),n("span",{class:"token operator"},"||"),a(),n("span",{class:"token function"},"hasSecret"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"string"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`

`),n("span",{class:"token keyword"},"private"),a(),n("span",{class:"token keyword"},"boolean"),a(),n("span",{class:"token function"},"hasSecret"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"String"),a(" string"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token keyword"},"return"),a(" provider"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"callRemoteApi"),n("span",{class:"token punctuation"},"("),a("string"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),y=o(`<p>æ€»çš„åŸåˆ™å°±æ˜¯æŠŠè€—æ—¶çš„è¡¨è¾¾å¼æ»åï¼Œå¦‚æœè¡¨è¾¾å¼æ¯”è¾ƒé•¿çš„è¯ï¼Œå¯ä»¥æå–æˆå‡½æ•°ã€‚</p><h3 id="é™æ€æ–¹æ³•çš„è°ƒç”¨" tabindex="-1"><a class="header-anchor" href="#é™æ€æ–¹æ³•çš„è°ƒç”¨" aria-hidden="true">#</a> é™æ€æ–¹æ³•çš„è°ƒç”¨</h3><p>å½“é€šè¿‡ Java ä¸­çš„ç©ºå¼•ç”¨è°ƒç”¨é™æ€æ–¹æ³•æ—¶ï¼Œä¸ä¼šå¼•å‘å¼‚å¸¸å¹¶ä¸”ä»£ç ä¼šè¿è¡Œã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Greeting</span> greeting <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        greeting<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Greeting</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é™æ€æ–¹æ³•å±äºç±»è€Œä¸æ˜¯å®ä¾‹ï¼Œåœ¨ç¼–è¯‘æ—¶greeting.hello()å˜æˆGreeting.hello()ã€‚<mark>è°ƒç”¨é™æ€æ–¹æ³•æ—¶å§‹ç»ˆä½¿ç”¨ç±»åï¼Œè€Œä¸æ˜¯å®ä¾‹</mark>ã€‚</p><h3 id="æšä¸¾ç±»çš„æ¯”è¾ƒ" tabindex="-1"><a class="header-anchor" href="#æšä¸¾ç±»çš„æ¯”è¾ƒ" aria-hidden="true">#</a> æšä¸¾ç±»çš„æ¯”è¾ƒ</h3><p>å¯¹äºæšä¸¾åˆ¤æ–­ç›¸ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>==</code>æˆ–è€…<code>equals</code>æ–¹æ³•</p><ul><li>ä½¿ç”¨<code>==</code></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">boolean</span> isEnabled <span class="token operator">=</span> accountStatus <span class="token operator">==</span> <span class="token class-name">Status</span><span class="token punctuation">.</span><span class="token constant">ENABLED</span><span class="token punctuation">;</span> <span class="token comment">// true or false</span>
<span class="token keyword">boolean</span> isEnabled <span class="token operator">=</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">==</span> <span class="token class-name">Status</span><span class="token punctuation">.</span><span class="token constant">ENABLED</span><span class="token punctuation">;</span> <span class="token comment">// compiler error</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœaccountStatusä¸ºnullï¼Œä¸Šè¿°å¯ä»¥å·¥ä½œã€‚å¦‚æœaccountStatusä¸æ˜¯ä¸€ä¸ªæšä¸¾ï¼Œé‚£ç¼–è¯‘æŠ¥é”™ã€‚</p><ul><li>ä½¿ç”¨<code>equals</code></li></ul><p>å°†æšä¸¾å¸¸é‡æ”¾åœ¨å·¦è¾¹ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œä½†æ˜¯æ²¡æœ‰ç±»å‹çš„ç¼–è¯‘æ—¶æ£€æŸ¥ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">boolean</span> isEnabled <span class="token operator">=</span> <span class="token class-name">Status</span><span class="token punctuation">.</span><span class="token constant">ENABLED</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>accountStatus<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true or false</span>
<span class="token keyword">boolean</span> isEnabled <span class="token operator">=</span> <span class="token class-name">Status</span><span class="token punctuation">.</span><span class="token constant">ENABLED</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;null&quot;</span><span class="token punctuation">)</span> <span class="token comment">// falseï¼Œæ­£å¸¸ç¼–è¯‘</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>å¯¹äºæšä¸¾åˆ¤æ–­ç›¸ç­‰ï¼Œæ¨èä½¿ç”¨<code>==</code>ï¼Œå› ä¸ºå®ƒæä¾›ç±»å‹çš„ç¼–è¯‘æ—¶æ£€æŸ¥å¹¶ä¸”ä¿è¯äº†<code>null</code>å®‰å…¨</p></div><h3 id="mapçš„getæ–¹æ³•ä¸ºnullçš„æƒ…å†µ" tabindex="-1"><a class="header-anchor" href="#mapçš„getæ–¹æ³•ä¸ºnullçš„æƒ…å†µ" aria-hidden="true">#</a> Mapçš„getæ–¹æ³•ä¸ºnullçš„æƒ…å†µ</h3><p>Mapçš„<code>get</code>æ–¹æ³•è¿”å›ç»“æœä¸º<code>null</code>æ˜¯æœ‰ä¸¤ç§æƒ…å†µï¼š</p><ul><li>The map does not contain the provided key</li><li>The map does contain the key but its value is null</li></ul><p>æ‰€ä»¥è¯´å¦‚æœæƒ³è¦åˆ¤æ–­keyåœ¨mapä¸­æ˜¯å¦å­˜åœ¨ï¼Œå»ºè®®ä½¿ç”¨<code>contains(Object key)</code>æ–¹æ³•ã€‚å¦å¤–Java 8ä¸­æä¾›äº†getOrDefault(Object key, V defaultValue)ï¼Œå¦‚æœç›¸åº”çš„keyå¯¹åº”çš„å€¼æ˜¯nullï¼Œé‚£ä¹ˆè¿”å›defaultValueã€‚</p><h3 id="streamä¸­æ£€æŸ¥å­˜åœ¨æ€§" tabindex="-1"><a class="header-anchor" href="#streamä¸­æ£€æŸ¥å­˜åœ¨æ€§" aria-hidden="true">#</a> Streamä¸­æ£€æŸ¥å­˜åœ¨æ€§</h3><p>Java 8ä¸­å¼•å…¥çš„Streamï¼Œæ–¹ä¾¿äº†æˆ‘ä»¬å¯¹Collectionçš„æ“ä½œã€‚åœ¨æ£€æŸ¥Javaæµä¸­æ˜¯å¦å­˜åœ¨æ—¶ï¼Œä½¿ç”¨<code>anyMatch()</code>è€Œä¸æ˜¯<code>count() &gt; 0</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Stream has 10k objects</span>

<span class="token comment">// 2ms</span>
result <span class="token operator">=</span> employees<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">anyMatch</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> e<span class="token punctuation">.</span><span class="token function">isActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 20ms</span>
result <span class="token operator">=</span> employees<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fliter</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> e<span class="token punctuation">.</span><span class="token function">isActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>å¯¹æ¯”äº<code>count() &gt; 0</code>ï¼Œä½¿ç”¨<code>anyMatch()</code>æ›´å®‰å…¨ï¼Œæ€§èƒ½ä¹Ÿæ›´å¥½ã€‚å› ä¸º<code>anyMatch</code>åœ¨æ£€ç´¢è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‘ç°æœ‰ä¸€ä¸ªæ»¡è¶³æ¡ä»¶ï¼Œå°±ç›´æ¥è¿”å›trueäº†ã€‚è€Œ<code>count() &gt; 0</code>æ’˜é…<code>filter</code>ä¼šæ£€ç´¢æ•´ä¸ªStreamã€‚</p></div><h3 id="nullçš„instanceofæ“ä½œç¬¦" tabindex="-1"><a class="header-anchor" href="#nullçš„instanceofæ“ä½œç¬¦" aria-hidden="true">#</a> nullçš„instanceofæ“ä½œç¬¦</h3><p>å¦‚æœå¯¹è±¡ä¸º nullï¼Œ<code>instanceof</code>è¿ç®—ç¬¦å°†è¿”å›falseã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// before</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> object <span class="token keyword">instanceof</span>  <span class="token class-name">MyClass</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// after: better</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token keyword">instanceof</span> <span class="token class-name">MyClass</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è°¨æ…ä½¿ç”¨bigdecimal-double-æ„é€ " tabindex="-1"><a class="header-anchor" href="#è°¨æ…ä½¿ç”¨bigdecimal-double-æ„é€ " aria-hidden="true">#</a> è°¨æ…ä½¿ç”¨BigDecimal(double)æ„é€ </h3><p><code>BigDecimal(double)</code>å­˜åœ¨ç²¾åº¦æŸå¤±é£é™©ï¼Œåœ¨ç²¾ç¡®è®¡ç®—æˆ–å€¼æ¯”è¾ƒçš„åœºæ™¯ä¸­å¯èƒ½ä¼šå¯¼è‡´ä¸šåŠ¡é€»è¾‘å¼‚å¸¸ã€‚æ¯”å¦‚ä¸‹é¢å®é™…å­˜å‚¨çš„å€¼å°±æ˜¯ï¼š<mark>0.100000001490116119384765625</mark></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">BigDecimal</span> value <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span> <span class="token punctuation">(</span><span class="token number">0.1f</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¼˜å…ˆæ¨è<code>BigDecimal(String)</code>çš„æ„é€ æ–¹æ³•æˆ–ä½¿ç”¨<code>BigDecimal.valueOf</code>æ–¹æ³•ï¼Œæ­¤æ–¹æ³•å†…éƒ¨å…¶å®æ‰§è¡Œäº†Doubleçš„toStringæ–¹æ³•ï¼Œè€ŒDoubleçš„toStringæŒ‰doubleçš„å®é™…èƒ½è¡¨è¾¾çš„ç²¾åº¦å¯¹å°¾æ•°è¿›è¡Œäº†æˆªæ–­ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">BigDecimal</span> recommend1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;0.1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BigDecimal</span> recommend2 <span class="token operator">=</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“æ¶‰åŠåˆ°é‡‘é’±ã€å¯¹ç²¾åº¦æœ‰è¦æ±‚çš„è®¡ç®—æ—¶ï¼Œæœ€å¥½æ˜¯ä½¿ç”¨<code>BigDecimal</code>ï¼Œè€Œä¸æ˜¯ä½¿ç”¨<code>Double</code>æˆ–è€…<code>Float</code>ã€‚å½“ç„¶å¯¹æ¯”äºè¿ç®—é€Ÿåº¦ï¼Œ<code>Bigdecimal</code>æ˜¯è¦æ…¢äº›çš„ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">0.1d</span> <span class="token operator">*</span> <span class="token number">0.2d</span><span class="token punctuation">;</span> <span class="token comment">// 0.020000000000000004</span>
<span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">0.1d</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">0.2d</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0.02</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,32);function j(w,x){const c=i("CodeTabs");return u(),d("div",null,[v,p(c,{id:"22",data:[{id:"yaml"},{id:"java"}],"tab-id":"java"},{title0:s(({value:e,isActive:t})=>[a("yaml")]),title1:s(({value:e,isActive:t})=>[a("java")]),tab0:s(({value:e,isActive:t})=>[m]),tab1:s(({value:e,isActive:t})=>[b]),_:1}),g,p(c,{id:"129",data:[{id:"before"},{id:"after"}],"tab-id":"java"},{title0:s(({value:e,isActive:t})=>[a("before")]),title1:s(({value:e,isActive:t})=>[a("after")]),tab0:s(({value:e,isActive:t})=>[h]),tab1:s(({value:e,isActive:t})=>[f]),_:1}),y])}const S=l(k,[["render",j],["__file","java-tips.html.vue"]]);export{S as default};
